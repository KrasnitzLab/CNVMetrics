<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate Weighted Euclidean distance-based metric between samples. — calculateWeightedEuclideanDistanceFor2Samples • CNVMetrics</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Calculate Weighted Euclidean distance-based metric between samples. — calculateWeightedEuclideanDistanceFor2Samples" />
<meta property="og:description" content="The weighted Euclidean distance-based metric corresponds to the
euclidean distance between 2 samples multiplied by the natural logarithm 
of the number of bases of the analyzed segment. The final metric is 1 over
1 added to the 
squared sum of the values obtained for all segments that are not 
excluded of the analysis." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CNVMetrics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.6</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/CNVMetrics.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/krasnitzlab/CNVMetrics/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate Weighted Euclidean distance-based metric between samples.</h1>
    <small class="dont-index">Source: <a href='https://github.com/krasnitzlab/CNVMetrics/blob/master/R/CNVMetricsLog2ratioInternalMethods.R'><code>R/CNVMetricsLog2ratioInternalMethods.R</code></a></small>
    <div class="hidden name"><code>calculateWeightedEuclideanDistanceFor2Samples.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The weighted Euclidean distance-based metric corresponds to the
euclidean distance between 2 samples multiplied by the natural logarithm 
of the number of bases of the analyzed segment. The final metric is 1 over
1 added to the 
squared sum of the values obtained for all segments that are not 
excluded of the analysis.</p>
    </div>

    <pre class="usage"><span class='fu'>calculateWeightedEuclideanDistanceFor2Samples</span><span class='op'>(</span><span class='va'>segmentData</span>, <span class='va'>minThreshold</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>segmentData</th>
      <td><p>a <code>list</code> marked as a <code>preMetricSegments</code> 
<code>class</code> that contains the disjoint segment information from 2 
samples and the log2ratio values of the samples in the metadata columns.</p></td>
    </tr>
    <tr>
      <th>minThreshold</th>
      <td><p>a single <code>numeric</code> setting the minimum value 
to consider two segments as different for the metric calculation. If the 
absolute difference is below or equal to threshold, the value will be 
replaced by zero.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a <code>numeric</code> representing the weighted euclidean distance 
between the two samples. If the distance cannot be calculated as the two
samples don't share any segments with log2ratio value, the value NA is
assigned.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The weighted euclidean distance is 
\(1/(1 + (\sum((x_i - y_i)^2 * log2(nbrBases_i))^0.5)\) 
where <code>x</code> and <code>y</code> are the
values of 2 samples for a specific segment <code>i</code> and <code>nbrBases</code> the 
number of bases of the segment <code>i</code>.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Astrid Deschênes</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'>## Load required package to generate the two samples</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>require</a></span><span class='op'>(</span><span class='va'><a href='https://bioconductor.org/packages/GenomicRanges'>GenomicRanges</a></span><span class='op'>)</span>

<span class='co'># Create first Granges representing first sample</span>
<span class='va'>sample01</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/GenomicRanges/man/GRanges-class.html'>GRanges</a></span><span class='op'>(</span>seqnames<span class='op'>=</span><span class='st'>"chr1"</span>,
    ranges <span class='op'>=</span>  <span class='fu'>IRanges</span><span class='op'>(</span>start<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>201</span>, <span class='fl'>400</span><span class='op'>)</span>, end<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>200</span>, <span class='fl'>350</span>, <span class='fl'>500</span><span class='op'>)</span><span class='op'>)</span>,
    strand <span class='op'>=</span>  <span class='st'>"*"</span>, log2ratio<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.3091175</span>, <span class='fl'>0.4582058</span>, <span class='op'>-</span><span class='fl'>0.3798390</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Create second Granges representing second sample</span>
<span class='va'>sample02</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/GenomicRanges/man/GRanges-class.html'>GRanges</a></span><span class='op'>(</span>seqnames<span class='op'>=</span><span class='st'>"chr1"</span>,
    ranges<span class='op'>=</span><span class='fu'>IRanges</span><span class='op'>(</span>start<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>150</span>, <span class='fl'>200</span>, <span class='fl'>450</span><span class='op'>)</span>, end<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>250</span>, <span class='fl'>350</span>, <span class='fl'>500</span><span class='op'>)</span><span class='op'>)</span>,
    strand<span class='op'>=</span><span class='st'>"*"</span>, log2ratio<span class='op'>=</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0.222174</span>, <span class='fl'>0.3282156</span>, <span class='op'>-</span><span class='fl'>0.2728292</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Create disjoint segment using the 2 samples and without any region</span>
<span class='co'># excluded from the analysis (parameter bedExclusion set to null)</span>
<span class='va'>disjoinGRange</span> <span class='op'>&lt;-</span> <span class='fu'>CNVMetrics</span><span class='fu'>:::</span><span class='fu'><a href='createDisjoinSegmentsForTwoSamples.html'>createDisjoinSegmentsForTwoSamples</a></span><span class='op'>(</span>
    segmentDataSample1<span class='op'>=</span><span class='va'>sample01</span>, segmentDataSample2<span class='op'>=</span><span class='va'>sample02</span>, 
    bedExclusion<span class='op'>=</span><span class='cn'>NULL</span><span class='op'>)</span>

<span class='co'>## Calculate the weighted ecucidean distance between the two samples</span>
<span class='fu'>CNVMetrics</span><span class='fu'>:::</span><span class='fu'>calculateWeightedEuclideanDistanceFor2Samples</span><span class='op'>(</span>
    segmentData<span class='op'>=</span><span class='va'>disjoinGRange</span>, minThreshold<span class='op'>=</span><span class='fl'>0.2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Astrid Deschênes, Pascal Belleau, Alexander Krasnitz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


